pico-8 cartridge // http://www.pico-8.com
version 42
__lua__
-- game states
function _init()
	two_player = false


	//game states
	scene="menu"
end

function _update()
	if (scene=="menu") then
		menu_update()
	elseif (scene=="game") then
		game_update()
	end
end

function _draw()
	if (scene=="menu") then
		menu_draw()
	elseif (scene=="game") then
		game_draw()
	end
end
-->8
-- menu
function menu_update()
	if btnp(❎) then
		scene = "game"
		game_init()
	end
	if btnp(❎, 1) then
		two_player = not two_player
	end
end

function menu_draw()
	cls()
	if (two_player) then
		print("two player", 42, 53)
	else
		print("one player", 42, 53)
	end
	print("press ❎ to start", 30, 63)
end
-->8
-- game
function game_init()
	player1 = {
	 x = 32,
	 y = 32,
	 facing_left = false,
	 exited = false,
	}
	player2 = {
		x = 32,
		y = 64,
		facing_left = false,
		exited = false,
	}
	goal = 128-16
	start_time = time()
end

function game_update()
	//p1
	if btn(➡️) then
		player1.x += 1
		player1.facing_left = false
	end
	if btn(⬅️) then
	 if (player1.x > 0) then
	 	player1.x -= 1
	 end
	 player1.facing_left = true
	end
	if (player1.x > goal) then
		player1.exited = true
	end

	//p2
	if btn(➡️, 1) then
	 player2.x += 1
	 player2.facing_left = false
		if (player1.x > goal) then
			player1.exited = true
		end
	end
	if btn(⬅️, 1) then
		if (player2.x > 0) then
	 	player2.x -= 1
	 end
	 player2.facing_left = true
	end
	if (player2.x > goal) then
		player2.exited = true
	end
end

function game_draw()
	cls()
	print(flr(time() - start_time))
	spr(32, goal, player1.y, 2, 2)
	if (two_player) then
		spr(32, goal, player2.y, 2, 2)
	end
	if (player1.exited == false) then
		spr(1, player1.x, player1.y, 2, 2, player1.facing_left)
	end
	if (two_player and player2.exited == false) then
		spr(1, player2.x, player2.y, 2, 2, player2.facing_left)
	end
end
__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000aaaa000000000000aaaa00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0070070000000aa1aa00000000000aa1aa0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0007700000000aaaaaa0000000000aaaaaa000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0007700000000a1aaaa0000000000a1aaaa000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0070070000000a111100000000000a11110000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000aaaaa00000000000aaaaa0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000a000000000000000a000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000aaa0000000000000aaa00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000aaaaa00000000000aaaaa0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000aaa0000000000000aaa00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000aaa0000000000000aaa00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000aaa0000000000000aaa00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000a0a0000000000000a0a00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
66666666666666600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
63333333333333600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
63333336333333600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
63333366633333600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
63333666663333600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
63333366633333600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
63333366633333600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
63333333333333600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
63333333333333600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
63333333333333600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
63333333333333600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
63333333333333600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
63333333333333600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
63333333333333600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
63333333333333600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__map__
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001010100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001010100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001010100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001010100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001010100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001010100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001010100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001010100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000050500000000000000000000000000000000000001010100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001010100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000505050500000000000000000000000001010100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000005050505000000000000000000000001010100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000050505000500000000000000000000000001010100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001010100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001010100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001010100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000500000000000000000000000000000000000000000001010100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001010100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001010100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001010100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001010100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001010100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001010100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001010100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__sfx__
000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0010000020940299402f9403494038940349402d94021940079400184000840008400184000840008400084001840018400184001840008400184000840008400084000840008400084000f4000f4000f4002840
__music__
00 01424344

